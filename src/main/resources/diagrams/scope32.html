<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>D3 Test</title>
    <link href="../jsgraph.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="../lib/d3/d3.min.js"></script>


    <link type="text/css" rel="stylesheet" href="../syntaxhighlighter_3.0.83/styles/shCore.css"/> <!--核心样式表(必选)-->
    <link type="text/css" rel="stylesheet" href="../syntaxhighlighter_3.0.83/styles/shThemeDefault.css"/> <!--主题样式表(多重样式选一)-->

    <script type="text/javascript" src="../syntaxhighlighter_3.0.83/scripts/shCore.js"></script> <!--核心js脚本(必选)-->
    <script type="text/javascript" src="../syntaxhighlighter_3.0.83/scripts/shBrushJScript.js"></script>
    <script type="text/javascript">
        SyntaxHighlighter.all()
    </script>

    <script src="../lib/jquery/dist/jquery.js"></script>

</head>
<body>

<div id="samplecode" style="width: 520px; float:left;">
<pre class="brush: js; highlight: [1,2,3,4]">
function add(num1, num2) {
  var sum = num1 + num2;
  return sum;
}

var total = add(5, 10);
</pre>
</div>

<svg id="codegraph" width="800" height="600">
    <defs>
        <filter id="f3" x="0" y="0" width="200%" height="200%">
            <feOffset result="offOut" in="SourceAlpha" dx="1" dy="1" />
            <feGaussianBlur result="blurOut" in="offOut" stdDeviation="5" />
            <feBlend in="SourceGraphic" in2="blurOut" mode="normal" />
        </filter>
    </defs>

    <defs>
        <marker id="markerCircle" markerWidth="8" markerHeight="8" refx="5" refy="5">
            <circle cx="5" cy="5" r="3" style="stroke: none; fill:#000000;"/>
        </marker>

        <marker id="markerArrow" markerWidth="13" markerHeight="13" refx="2" refy="6" orient="auto">
            <path d="M2,2 L2,11 L10,6 L2,2" style="fill: #000000;" />
        </marker>
    </defs>

    <g id="add" transform="translate(100,300)"><rect x="0" y="0" class="wrapper" width="150" height="60"></rect><g><rect class="header" x="0" y="0" width="150" height="30" fill="rgba(0, 102, 255, 0.5)" fill-opacity="1.0" stroke-width="1" stroke="Black"></rect><text class="header" x="75" y="22" text-anchor="middle" fill="Black">closure1</text></g>
        <g><rect class="content" x="0" y="30" width="75" height="30" fill="rgba(0, 102, 255, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="37" y="52" text-anchor="middle" fill="Black">[[scope]]</text></g>
        <g><rect class="content" x="75" y="30" width="75" height="30" fill="rgba(0, 102, 255, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="112" y="52" text-anchor="middle" fill="Black"></text></g>
    </g>

    <g id="scope" transform="translate(350,300)"><rect x="0" y="0" class="wrapper" width="150" height="90"></rect><g><rect class="header" x="0" y="0" width="150" height="30" fill="rgba(255, 153, 0, 0.5)" fill-opacity="1.0" stroke-width="1" stroke="Black"></rect><text class="header" x="75" y="22" text-anchor="middle" fill="Black">Scope Chain</text></g>
        <g><rect class="content" x="0" y="30" width="75" height="30" fill="rgba(255, 153, 0, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="37" y="52" text-anchor="middle" fill="Black">0</text></g>
        <g><rect class="content" x="75" y="30" width="75" height="30" fill="rgba(255, 153, 0, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="112" y="52" text-anchor="middle" fill="Black"></text></g>
        <g><rect class="content" x="0" y="60" width="75" height="30" fill="rgba(255, 153, 0, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="37" y="82" text-anchor="middle" fill="Black">1</text></g>
        <g><rect class="content" x="75" y="60" width="75" height="30" fill="rgba(255, 153, 0, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="112" y="82" text-anchor="middle" fill="Black"></text></g>
    </g>

    <g id="add" transform="translate(100,100)"><rect x="0" y="0" class="wrapper" width="150" height="60"></rect><g><rect class="header" x="0" y="0" width="150" height="30" fill="rgba(0, 102, 255, 0.5)" fill-opacity="1.0" stroke-width="1" stroke="Black"></rect><text class="header" x="75" y="22" text-anchor="middle" fill="Black">execution context</text></g>
        <g><rect class="content" x="0" y="30" width="75" height="30" fill="rgba(0, 102, 255, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="37" y="52" text-anchor="middle" fill="Black">scope chain</text></g>
        <g><rect class="content" x="75" y="30" width="75" height="30" fill="rgba(0, 102, 255, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="112" y="52" text-anchor="middle" fill="Black"></text></g>
    </g>

    <g id="scope" transform="translate(350,100)"><rect x="0" y="0" class="wrapper" width="150" height="90"></rect><g><rect class="header" x="0" y="0" width="150" height="30" fill="rgba(255, 153, 0, 0.5)" fill-opacity="1.0" stroke-width="1" stroke="Black"></rect><text class="header" x="75" y="22" text-anchor="middle" fill="Black">Scope Chain</text></g>
        <g><rect class="content" x="0" y="30" width="75" height="30" fill="rgba(255, 153, 0, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="37" y="52" text-anchor="middle" fill="Black">0</text></g>
        <g><rect class="content" x="75" y="30" width="75" height="30" fill="rgba(255, 153, 0, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="112" y="52" text-anchor="middle" fill="Black"></text></g>
        <g><rect class="content" x="0" y="60" width="75" height="30" fill="rgba(255, 153, 0, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="37" y="82" text-anchor="middle" fill="Black">1</text></g>
        <g><rect class="content" x="75" y="60" width="75" height="30" fill="rgba(255, 153, 0, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="112" y="82" text-anchor="middle" fill="Black"></text></g>
    </g>

    <g id="activate" transform="translate(600,100)"><rect x="0" y="0" class="wrapper" width="150" height="180"></rect><g><rect class="header" x="0" y="0" width="150" height="30" fill="rgba(51, 204, 51, 0.5)" fill-opacity="1.0" stroke-width="1" stroke="Black"></rect><text class="header" x="75" y="22" text-anchor="middle" fill="Black">Activation object</text></g>
        <g><rect class="content" x="0" y="30" width="75" height="30" fill="rgba(51, 204, 51, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="37" y="52" text-anchor="middle" fill="Black">this</text></g>
        <g><rect class="content" x="75" y="30" width="75" height="30" fill="rgba(51, 204, 51, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="112" y="52" text-anchor="middle" fill="Black">window</text></g>
        <g><rect class="content" x="0" y="60" width="75" height="30" fill="rgba(51, 204, 51, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="37" y="82" text-anchor="middle" fill="Black">arguments</text></g>
        <g><rect class="content" x="75" y="60" width="75" height="30" fill="rgba(51, 204, 51, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="112" y="82" text-anchor="middle" fill="Black">[5, 10]</text></g>
        <g><rect class="content" x="0" y="90" width="75" height="30" fill="rgba(51, 204, 51, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="37" y="112" text-anchor="middle" fill="Black">num1</text></g>
        <g><rect class="content" x="75" y="90" width="75" height="30" fill="rgba(51, 204, 51, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="112" y="112" text-anchor="middle" fill="Black">5</text></g>
        <g><rect class="content" x="0" y="120" width="75" height="30" fill="rgba(51, 204, 51, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="37" y="142" text-anchor="middle" fill="Black">num2</text></g>
        <g><rect class="content" x="75" y="120" width="75" height="30" fill="rgba(51, 204, 51, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="112" y="142" text-anchor="middle" fill="Black">10</text></g>
        <g><rect class="content" x="0" y="150" width="75" height="30" fill="rgba(51, 204, 51, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="37" y="172" text-anchor="middle" fill="Black">sum</text></g>
        <g><rect class="content" x="75" y="150" width="75" height="30" fill="rgba(51, 204, 51, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="112" y="172" text-anchor="middle" fill="Black">undefined</text></g>
    </g>

    <g id="global" transform="translate(600,300)"><rect x="0" y="0" class="wrapper" width="150" height="150"></rect><g><rect class="header" x="0" y="0" width="150" height="30" fill="rgba(255, 0, 102, 0.5)" fill-opacity="1.0" stroke-width="1" stroke="Black"></rect><text class="header" x="75" y="22" text-anchor="middle" fill="Black">Global object</text></g>
        <g><rect class="content" x="0" y="30" width="75" height="30" fill="rgba(255, 0, 102, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="37" y="52" text-anchor="middle" fill="Black">this</text></g>
        <g><rect class="content" x="75" y="30" width="75" height="30" fill="rgba(255, 0, 102, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="112" y="52" text-anchor="middle" fill="Black">window</text></g>
        <g><rect class="content" x="0" y="60" width="75" height="30" fill="rgba(255, 0, 102, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="37" y="82" text-anchor="middle" fill="Black">window</text></g>
        <g><rect class="content" x="75" y="60" width="75" height="30" fill="rgba(255, 0, 102, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="112" y="82" text-anchor="middle" fill="Black">(object)</text></g>
        <g><rect class="content" x="0" y="90" width="75" height="30" fill="rgba(255, 0, 102, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="37" y="112" text-anchor="middle" fill="Black">makeAdder</text></g>
        <g><rect class="content" x="75" y="90" width="75" height="30" fill="rgba(255, 0, 102, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="112" y="112" text-anchor="middle" fill="Black">(function)</text></g>
        <g><rect class="content" x="0" y="120" width="75" height="30" fill="rgba(255, 0, 102, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="37" y="142" text-anchor="middle" fill="Black">add5</text></g>
        <g><rect class="content" x="75" y="120" width="75" height="30" fill="rgba(255, 0, 102, 0.5)" fill-opacity="0.2" stroke-width="1" stroke="Black"></rect><text class="content" x="112" y="142" text-anchor="middle" fill="Black">undefined</text></g>
    </g>

    <path d="M212,145 H281 V115 H342" class="connecting"></path>
    <path d="M462,145 H531 V110 H592" class="connecting"></path>
    <path d="M462,175 H531 V307 H592" class="connecting"></path>
    <path d="M212,345 H281 V315 H342" class="connecting"></path>
    <path d="M472,345 H536 V120 H592" class="connecting"></path>
    <path d="M482,375 H541 V323 H592" class="connecting"></path>

</svg>

</div>
</body>
</html>